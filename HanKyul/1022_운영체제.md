## 운영체제란 무엇인가

- 정의
    
    컴퓨터 시스템의 자원(하드웨어)들을 효율적으로 관리함
    
    사용자가 편리하고 효과적으로 컴퓨터를 사용할 수 있게 하는 프로그램들의 모임
    
    즉, 사람~컴퓨터의 인터페이스 역할을 하는 시스템 소프트웨어의 일종
    

- 기능
    1. 자원 관리 (프로세서, 입출력장치 등)
    2. 자원의 스케줄링
    3. 인터페이스 제공
    4. 하드웨어, 네트워크 관리
    5. 데이터 관리
    6. 시스템의 오류 검사 & 복구
    7. 자원보호 기능
    8. 입출력 보조기능

## 프로세스와 스레드

- 프로그램이 프로세스가 되려면
    - 메모리에 올라가야 함
    - 프로세스 정보를 메모리에 올린다
    - code data stack heap을 메모리에 할당한다

- 정의 - 프로세스
    
    컴퓨터에서 실행중인 프로그램을 의미
    
    저장 공간에 저장된 코드, 리소스등을 메모리에 올리면 그것이 프로세스.
    
- 프로세스의 구성 (뭔지만 알자)
    - PID : 프로세스 식별번호
    - 상태 : 대기 / 실행중 표시
    - PC (Program Counter) : CPU가 다음으로 실행할 명령어를 가리키는 값
    - 스케줄링 우선순위
    - 권한 : 접근 가능한 자원의 권한
    - 부모 / 자식 프로세스
    - 포인터 (메모리 위치) : 프로세스와 데이터의 메모리 위치
    - 포인터 (할당된 자원)
    - 실행 문맥 : 마지막으로 실행한 프로세서의 레지스터 내용 (이전에 실행된 내용인 것 같아요)
- 프로세스의 관리
    - 실행, 준비, 블록 상태로 분류하고 상태 전이를 통해 체계적으로 관리함

- 멀티 프로세스가 가능한 이유
    
    운영체제가 정말 빠르게 CPU가 실행할 프로세스를 교체하기 때문 
    
- 정의 - 스레드
    
    프로세스보다도 작은 실행 흐름의 최소단위
    
    프로세스 내에서 “실제로 작업을 수행하는 주체”
    
- 프로세스의 장단점
    - 장점
        - 개별적으로 동작 영향 x
    - 단점
        - 문맥교환의 비용이 크다
        - 생성시 오버헤드가 크다
        - [https://dar0m.tistory.com/233](https://dar0m.tistory.com/233)
            - 프로세스 간의 통신

## 멀티스레드의 장단점

- 멀티스레드란
    - 하나의 프로세스를 다수의 실행 단위로 구분함
    - 여러 스레드들이 자원을 공유, 수행능력 향상
- 장점
    - 응답성
        - 일부 스레드가 중단되거나, 긴 작업을 수행하더라도 프로그램의 수행이 계속됨
    - 경제성
        - 프로세스 내 자원들과 메모리를 공유
        - 메모리 공간 / 시스템 자원 소모 줄일 수 있음
    - 멀티프로세서 활용
- 단점
    - Critical Section
        - 둘 이상의 스레드가 동시 실행될 경우
        - 서로의 메모리 공간을 침범하게 되면… 엉뚱한 값을 읽어오거나 수정할 수 있음

## Thread-safe란

- 정의
    - 멀티스레드 프로그래밍에서 어떤 함수,변수,객체가 여러 스레드에 동시 접근되더라도 실행에 문제가 없음을 의미함
- 방법
    - Re-entrancy
        - 어떤 함수가 한 스레드에 의해 호출되어 실행 중일 때, 다른 스레드가 그 함수를 호출하더라도 그 결과가 각각에게 올바로 주어져야 함
    - Thread-local Storage
        - 각각의 스레드에서만 접근 가능한 저장소 사용
    - Mutual Exclusion
        - 세마포어 등의 락으로 통제
    - Atomic Operations
        - 공유 자원에 접근할 때 원자 연산을 이용?

## MUTEX와 Semaphores

[https://heeonii.tistory.com/14](https://heeonii.tistory.com/14)

### MUTEX

- 멀티프로세스에서 Critical Section에 접근을 막음
    - 동기화 대상이 하나
- 실행 시간이 겹치지 않도록 각각 단독실행
- 키가 하나만 있는 가게 화장실을 생각하자.
- 즉 특정키가 있어야 공유 자원에 접근 가능

### Semaphore

- 역시 임계 영역의 접근을 막음 (동기화 대상이 하나 이상)
- 공유 자원에 접근할 수 있는 프로세스의 최대 허용치만큼 동시접근 가능
- 여러 칸을 가진 화장실이라 생각하자 (빈 방의 갯수가 보여지는)

## Scheduler

Ready Queue에 존재하는 프로세스들을 특정한 우선순위를 기반으로CPU를 할당받게 하는 역할이다.

- 장기
    - 어떤 프로세스를 Ready Queue에? : 디스크 → 메모리
- 단기
    - 어떤 프로세스를 CPU에? : 메모리 → CPU
- 중기
    - 메모리에 적재된 프로세스 수 조정

## 선점 스케줄링과 비선점 스케줄링

- 선점
    - 우선순위가 높은 프로세스가 자원을 뺏을 수 있음
    - 선점 상황이 잦아지면 오버헤드가 발생함
    - 빠른 응답시간 요구하는 대화식 시분할 시스템에 유용
    - 라운드 로빈,,,
- 비선점
    - 큐,,,, (FIFO)
    - 이미 할당된 자원을 다른 프로세스가 뺐을 수 없음
    - 응답시간 예측가능
    - 일괄처리 방식에 적합
    - 중요한 작업이 중요하지 않은 작업을 기다리는 경우 발생..

## 문맥 교환

- 멀티 프로세스가 가능한 이유
    
    운영체제가 정말 빠르게 CPU가 실행할 프로세스를 교체하기 때문 → 이것이 문맥 교환[https://yoongrammer.tistory.com/53](https://yoongrammer.tistory.com/53)