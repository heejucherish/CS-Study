-------

# os

## process & Thread

-----

- 운영체제란 무엇인가?

​	사용자의 하드웨어, 시스템 리소스를 제어하고 프로그램에 대한 일반적 서비스를 지원하는 시  스템 소프트웨어이다

- 프로세스와 쓰레드에 대해 설명해주세요.

​	프로세스는 운영체제로부터 자원을 할당받는 작업의 단위, 쓰레드는 프로세스가 할당받은 자원을 이용하는 실행의 단위. 

참고: https://brunch.co.kr/@kd4/3

- 멀티 쓰레드의 장점 과 단점

​	장점: 

  1. 프로그램의 일부분(쓰레드)이 중단되거나 긴 작업을 수행하더라도 프로그램이 수행되어 사용자에 대한 응답성 증가. 

  2. 프로세스 내 자원과 메모리 공유하여 메모리 공간과 시스템 자원 소모가 줄어든다. 쓰레드간 통신이 필요한 경우도 데이터를 쉽게 주고 받으며, context switching시 프로세스와 달리 캐시 메모리를 비울 필요가 없어 더 빠르다. 

  3. 다중 CPU 구조에서 각각의 쓰레드가 다른 프로세서에 병렬로 수행 될 수 있어 병렬성이 증가

     단점:

1. 동기화, context switching으로 싱글 코어 멀티 쓰레딩은 쓰레드 생성 시간이 오히려 오버해드로 작용해 단일 쓰레드 보다 느리다.

	2. 동기화를 통해 쓰레드의 작업 처리 순서와 공유 자원에 대한 접근을 컨트롤 할 수 있지만, 불필요한 부분까지 동기화 하는 경우 과도한 lock으로 인해 병목현상을 발생시켜 성능이 저하될 가능성이 있다. 
	2. 임계영역 둘 이상의 쓰레드가 동시에 실행하면 문제를 일으키는 코드 블록을 말함. 자원에 동시 접근 할 경우 쓰레드는 데이터와 힙영역을 공유하여 엉뚱한 값을 읽어 오거나 수정할 수 있다. (동기화 필요이유)

- Tread-safe

​	멀티 쓰레드 프로그래밍에서, 어떤 공유 자원에 여러 쓰레드가 동시에 접근해도, 프로그램 실행에 문제가 없는 상태를 의미

	1. 상호 배제

​		세마포어/뮤텍스로 공유자원에 하나의 쓰레드만 접근할 수 있도록 락을 통제하는 방법

 2. 원자 연산

    공유자원에 원자적으로 접근하는 방법. 공유 자원 변경에 필요한 연산을 원자적으로 분리 한 후 실제로 데이터 변경 이루어지는 시점에 락을 걸고 데이터를 변경하는 시간 동안 다른 쓰레드의 접근이 불가능하도록 하는 방법.

 3. 쓰레드 지역 저장소

​		공유 자원의 사용을 최대한 줄이고 각각의 쓰레드에서만 접근 가능한 저장소들을 사용		함으로써 동시 접근을 막는 방법. 일반적으로 공유상태를 피할 수 없을 때 사용

- 세마포어와 뮤텍스

   1. 세마포어

       공유된 자원의 데이터, 임계영역에 여러 프로세스 혹은 쓰레드가 접근하는 것을 막아줌

      동기화 대상이 하나이상!

	  1. 뮤텍스

​		공유된 자원의 데이터 혹은 임계영역 등에 하나의 프로세스 혹은 쓰레드가 접근하는 것		을 막아줌. 동기화 대상이 하나!

- **Critical Section**

​	다중 프로그래밍 운영체제에서 여러 프로세스가 데이타를 공유하면서 수행될 때 각 프로	세스에서 공유 데이터를 접근(Access)하는 프로그램 코드 부분을 가리키는 말입니다.



## Scheduling

-----

- 스케줄러란?

​	한정적인 메모리를 여러 프로세스가 효율적으로 사용할 수 있도록 다음 실행 시간에 실행	할 수 있는 프로세스 중에 하나를 선택하는 역할

- 스케줄링이 무엇인지 목적을 설명해주세요.

  - 장기 스케줄러

    어떤 프로세스가 시스템의 자원을 차지할 것인가를 결정해 준비(Ready) 상태 큐로 보내는 작업수행 빈도가 적고 느림

  - 단기 스케줄러

     CPU와 메모리 사이의 스케줄링을 담당하며 CPU 스케줄러라고도함 - Ready Queue에 존재하는 프로세스들 중 스케줄링 알고리즘에 따라 CPU를 할당할 프로세스 선택 - 프로세스의 상태[ready -> running -> waiting -> ready]

  - 중기 스켈줄러

    어떤 프로세스들이 CPU를 할당 받을 것인지 결정하는 작업
    CPU를 할당받으려는 프로세스가 많을 경우, 프로세스를 일시 대기(Waiting)시킨 후 활성화해서 부하를 조절
    메모리 부족 시 swap out, 메모리가 남으면 swap in 결정



- 비선점방식과 선점방식

  선점방식

  하나의 프로세스가 CPU를 차지하고 있을 때, 우선순위가 높은 다른 프로세스가 현재 프로세스를 중단시키고 CPU를 점유하는 스케줄링 방식. 

  비교적 응답이 빠르다는 장점이 있지만, 처리 시간을 예측하기 힘들고 높은 우선순위 프로세스들이 계속 들어오는 경우 오버헤드를 초래

  실시간 응답환경, Deadline 응답환경 등 우선순위가 높은 프로세스를 빠르게 처리해야 할 경우 등에 유용

  

  비선점방식

  한 프로세스가 CPU를 할당받으면 작업 종료 후 CPU 반환 시까지 다른 프로세스는 PCU 점유가 불가능한 스케줄링 방식
  모든 프로세스에 대한 요구를 공정하게 처리할 수 있지만, 짧은 작업을 수행하는 프로세스가 긴 작업 종료 시까지 대기해야할 수도 있다. (콘베이 현상)
  처리시간 편차가 적은 특정 프로세스 환경에 용이

- Context Switching

​		하나의 프로세스가 CPU를 사용 중인 상태에서 다른 프로세스가 CPU를 사용하도록 하		기 위해, 이전의 프로세스의 상태(문맥)를 보관하고 새로운 프로세스의 상태를 적재하		는 작업을 말한다. 한 프로세스의 문맥은 그 프로세스의 [프로세스 제어 블록](https://ko.wikipedia.org/wiki/프로세스_제어_블록)에 기록되		어 있다.

​		













​	